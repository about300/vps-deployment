<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>VPS 控制台</title>

<style>
:root {
  --card-bg: rgba(255, 255, 255, 0.85);
  --text-color: #222;
  --blur: blur(14px);
}

* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
  color: var(--text-color);
}

body {
  background:
    linear-gradient(120deg, #667eea, #764ba2);
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

#bg-mask {
  position: fixed;
  inset: 0;
  background-size: cover;
  background-position: center;
  z-index: -1;
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 40px 20px;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
}

.card {
  background: var(--card-bg);
  backdrop-filter: var(--blur);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
}

.card h2 {
  margin-top: 0;
  font-size: 18px;
}

.links a {
  display: block;
  margin: 8px 0;
  color: #3366ff;
  text-decoration: none;
}

.links a:hover {
  text-decoration: underline;
}

/* 搜索 */
.search-box {
  margin: 30px auto;
  max-width: 600px;
  display: flex;
}

.search-box input {
  flex: 1;
  padding: 14px;
  border-radius: 30px 0 0 30px;
  border: none;
  outline: none;
  font-size: 16px;
}

.search-box button {
  padding: 14px 24px;
  border-radius: 0 30px 30px 0;
  border: none;
  background: #4f7cff;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
}

.search-box button:hover {
  background: #3a63d8;
}
</style>
</head>

<body>

<div id="bg-mask"></div>

<div class="container">
  <h1>VPS 控制台</h1>

  <!-- 搜索 -->
  <form class="search-box" action="https://www.bing.com/search" method="get" target="_blank">
    <input type="text" name="q" placeholder="使用 Bing 搜索…" />
    <button type="submit">搜索</button>
  </form>

  <div class="grid">
    <div class="card">
      <h2>服务入口</h2>
      <div class="links">
        <a href="/subconvert/" target="_blank">订阅转换前端</a>
        <a href="/sub/api/" target="_blank">SubConverter API</a>
        <a href="https://{{DOMAIN}}:2095" target="_blank">S-UI 面板</a>
        <a href="https://{{DOMAIN}}:3000" target="_blank">AdGuard Home</a>
      </div>
    </div>

    <div class="card">
      <h2>说明</h2>
      <p>
        • 背景来自 Bing 每日壁纸<br>
        • 若无法访问 Bing，自动回退渐变背景<br>
        • 本地 / 服务器表现一致
      </p>
    </div>
  </div>
</div>

<script>
(async function loadBingBg() {
  try {
    const res = await fetch(
      "https://www.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1"
    );
    const data = await res.json();

    if (!data.images || !data.images[0].url) {
      throw new Error("Bing 返回数据异常");
    }

    const imgUrl = "https://www.bing.com" + data.images[0].url;
    document.getElementById("bg-mask").style.backgroundImage =
      `url('${imgUrl}')`;

  } catch (e) {
    console.warn("Bing 背景加载失败，使用渐变背景", e);
  }
})();
</script>

</body>
</html>
